# Badge Icon Upload - Quick Start Guide

## Step 1: Install Firebase Admin SDK

```bash
npm install firebase-admin
```

## Step 2: Get Firebase Admin Credentials

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Select project: **thelineupapp-88c99**
3. Click the gear icon ⚙️ → **Project Settings**
4. Go to **Service Accounts** tab
5. Click **"Generate New Private Key"**
6. Save the JSON file as `firebase-admin-key.json` in the project root
7. **IMPORTANT**: This file is already in `.gitignore` - never commit it!

## Step 3: Prepare Your Badge Icons

Create this folder structure in your project root:

```
badges/
  ├── foh/
  │   ├── foh_five_star_service.svg
  │   ├── foh_guest_favorite.svg
  │   └── ... (all FOH badges)
  ├── boh/
  │   ├── boh_grill_master.svg
  │   └── ... (all BOH badges)
  ├── valet/
  │   ├── valet_scratch_free_record.svg
  │   └── ... (all Valet badges)
  ├── diner/
  │   ├── diner_first_review.svg
  │   └── ... (all Diner badges)
  └── management/
      ├── mgmt_excellence_award.svg
      └── ... (all Management badges)
```

**File naming**: Use the exact badge ID as the filename (e.g., `foh_five_star_service.svg`)

## Step 4: Upload Icons

Run the upload script:

```bash
node scripts/uploadBadgeIcons.js
```

This will:
- ✅ Upload all SVG files to Firebase Storage
- ✅ Make them publicly accessible
- ✅ Generate `badge-urls.json` with all URLs
- ✅ Skip files that already exist (won't overwrite)

## Step 5: Update Badge Library (Optional)

If you want to automatically update `badgeLibrary.js` with the new URLs:

```bash
node scripts/updateBadgeLibrary.js
```

This replaces emoji icons with Firebase Storage URLs in the badge library.

## What You'll Get

After running the upload script, you'll have:

1. **All icons in Firebase Storage** at:
   ```
   badges/{category}/{badgeId}.svg
   ```

2. **Public URLs** like:
   ```
   https://storage.googleapis.com/thelineupapp-88c99.firebasestorage.app/badges/foh/foh_five_star_service.svg
   ```

3. **badge-urls.json** file mapping badge IDs to URLs:
   ```json
   {
     "foh_five_star_service": "https://storage.googleapis.com/...",
     "foh_guest_favorite": "https://storage.googleapis.com/...",
     ...
   }
   ```

## Troubleshooting

### "firebase-admin-key.json not found"
- Make sure you downloaded the service account key from Firebase Console
- Save it in the project root (same folder as `package.json`)
- File name must be exactly: `firebase-admin-key.json`

### "Permission denied"
- Check that Firebase Storage is enabled in your project
- Verify the service account has Storage Admin permissions
- Storage bucket should be: `thelineupapp-88c99.firebasestorage.app`

### "Directory not found"
- The script will create empty directories if needed
- Add your SVG files and run again

### Files not uploading
- Check file format (must be `.svg`)
- Verify file names match badge IDs exactly
- Check file permissions

## Manual Update (Alternative)

If you prefer to manually update the badge library:

1. Open `badge-urls.json` (generated by upload script)
2. Open `src/utils/badgeLibrary.js`
3. For each badge, replace the `icon` field:
   ```javascript
   // Before:
   icon: "⭐⭐⭐⭐⭐",
   
   // After:
   icon: "https://storage.googleapis.com/thelineupapp-88c99.firebasestorage.app/badges/foh/foh_five_star_service.svg",
   ```

## Complete Badge List

See `BADGE_ICONS_README.md` for the complete list of all 150+ badges that need icons.

## Security Reminder

⚠️ **NEVER commit `firebase-admin-key.json` to git!**

It's already in `.gitignore`, but double-check before committing.







